---
## Author
author:
  name: Арина Александровна Жукова
  degrees: 3rd year student
  orcid: 0000-0002-0877-7063
  email: 1132239120@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Лабораторная работа №12
subtitle: Синхронизация времени
license: CC BY
date: today
date-format: "YYYY-MM-DD" # Example: 2025-11-08
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Жукова Арина Александровна
  * Студент бакалавриата, 3 курс
  * группа: НПИбд-01-23
  * Российский университет дружбы народов
  * [1132239120@rudn.ru](mailto:1132239120@rudn.ru)

:::
::: {.column width="30%"}

![](./image/zhukova.jpg)

:::
::::::::::::::

# Цели и задачи

## Цель работы

- Получение навыков по управлению системным временем
- Освоение настройки синхронизации времени в Linux
- Изучение работы протокола NTP и службы chrony

## Задачи работы

- Изучение команд настройки параметров времени
- Настройка сервера синхронизации времени для локальной сети
- Создание скриптов для автоматизации настройки NTP
- Анализ работы службы chrony

# Выполнение работы

## Настройка параметров времени на сервере

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

**Проверка текущих настроек**
```bash
timedatectl
date
hwclock
```

**Установка временной зоны**
```bash
timedatectl set-timezone \
Europe/Moscow
```

:::
::: {.column width="50%"}

![Параметры времени на сервере](image/1.png){width=90%}

:::
::::::::::::::

## Настройка параметров времени на клиенте

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

**Просмотр доступных временных зон**
```bash
timedatectl list-timezones \ 
| grep -i europe
```

**Параметры команды date**
```bash
date -d "yesterday"
date -d "next Monday"
```

:::
::: {.column width="50%"}

![Доступные временные зоны в Европе](image/6.png){width=90%}

:::
::::::::::::::

## Установка и настройка chrony

**Установка пакета**
```bash
dnf -y install chrony
```

**Настройка сервера**
```bash
# /etc/chrony.conf
allow 192.168.0.0/16
```

**Настройка firewall**
```bash
firewall-cmd --add-service=ntp
firewall-cmd --add-service=ntp --permanent
```

## Мониторинг источников времени

:::::::::::::: {.columns align=center}
::: {.column width="40%"}

**Команды мониторинга**
```bash
chronyc sources
chronyc tracking
```

**Обозначения в выводе**

- `^*` - активный источник

- `^+` - приемлемый источник  

- `^?` - источник с потерями связи

- `^-` - неприемлемый источник

:::
::: {.column width="60%"}

![Источники времени на сервере](image/12.png){width=70%}

![Источники времени на клиенте](image/13.png){width=70%}

:::
::::::::::::::

# Результаты

## Анализ синхронизации

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

**Стабильное состояние**

- Стратум 2-3

- Reach 377/377

- Смещение < 1ms

- Низкая погрешность


**Проблемы**

- Высокий дрейф частоты

- Потери связи с источниками

- Высокая дисперсия


:::
::: {.column width="50%"}

![Вывод chronyc tracking](image/19.png){width=90%}

:::
::::::::::::::

## Автоматизация настройки

**Скрипты для Vagrant**

- `provision/server/ntp.sh` - настройка сервера

- `provision/client/ntp.sh` - настройка клиента

- Копирование конфигурационных файлов

- Настройка firewall и SELinux

- Автозапуск службы chronyd


**Интеграция с Vagrantfile**

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

```ruby
server.vm.provision "server ntp",
    type: "shell",
    preserve_order: true,
    path: "provision/server/ntp.sh"
```

:::
::: {.column width="50%"}

```ruby
client.vm.provision "client ntp",
    type: "shell",
    preserve_order: true,
    path: "provision/client/ntp.sh"
```

:::
::::::::::::::

# Выводы

## Итоги работы

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

**Полученные навыки**

- Управление системным временем

- Настройка NTP-сервера и клиента

- Мониторинг синхронизации

- Автоматизация настройки


**Освоенные технологии**

- Служба chrony

- Протокол NTP

- Утилиты timedatectl, hwclock

- Vagrant provisioning

:::
::: {.column width="50%"}

**Практическая значимость**

- Обеспечение точного времени в сети

- Синхронизация распределенных систем

- Автоматизация развертывания

- Мониторинг состояния служб

:::
::::::::::::::


## Заключение

**Достигнутые результаты**

- Успешная настройка NTP-сервера

- Стабильная синхронизация времени

- Автоматизация процесса развертывания

- Полное понимание работы chrony



